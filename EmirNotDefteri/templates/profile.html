<!DOCTYPE html>
<html lang="tr" data-theme="{{ current_user.profile.get('theme', 'light') }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil - Not Defteri</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Profil</h1>
            <div class="user-info">
                <span>HoÅŸ geldin, {{ current_user.username }}!</span>
                <a href="{{ url_for('notes') }}" class="btn btn-secondary">Notlara DÃ¶n</a>
                <a href="{{ url_for('change_password') }}" class="btn btn-secondary">Åifre DeÄŸiÅŸtir</a>
                <a href="{{ url_for('toggle_theme') }}" class="btn btn-secondary" id="theme-toggle">
                    {% if current_user.profile.get('theme', 'light') == 'light' %}ğŸŒ™{% else %}â˜€ï¸{% endif %}
                </a>
                <a href="{{ url_for('logout') }}" class="btn btn-secondary">Ã‡Ä±kÄ±ÅŸ Yap</a>
            </div>
        </header>

        <div class="auth-form">
            <h2>Profil Bilgileri</h2>
            
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <div class="{% if 'baÅŸarÄ±yla' in message %}success-message{% else %}error-message{% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            
            <div class="profile-info">
                <div class="profile-field">
                    <label>KullanÄ±cÄ± AdÄ±:</label>
                    <span>{{ user.username }}</span>
                </div>
                <div class="profile-field">
                    <label>E-posta:</label>
                    <span>{{ user.email or 'BelirtilmemiÅŸ' }}</span>
                </div>
                <div class="profile-field">
                    <label>Hesap OluÅŸturulma:</label>
                    <span>{{ user.created_at[:10] if user.created_at else 'Bilinmiyor' }}</span>
                </div>
                <div class="profile-field">
                    <label>Åehir:</label>
                    <span>{{ user.city or 'Ankara' }}</span>
                </div>
            </div>
            
            <form method="POST" action="{{ url_for('update_profile') }}" class="profile-form">
                <div class="form-group">
                    <label for="display_name">GÃ¶rÃ¼nen Ad:</label>
                    <input type="text" id="display_name" name="display_name" value="{{ user.profile.get('display_name', '') }}">
                </div>
                <div class="form-group">
                    <label for="bio">HakkÄ±mda:</label>
                    <textarea id="bio" name="bio" rows="3">{{ user.profile.get('bio', '') }}</textarea>
                </div>
                <div class="form-group">
                    <label for="theme">Tema:</label>
                    <select id="theme" name="theme">
                        <option value="light" {% if user.profile.get('theme', 'light') == 'light' %}selected{% endif %}>AÃ§Ä±k</option>
                        <option value="dark" {% if user.profile.get('theme') == 'dark' %}selected{% endif %}>Koyu</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="city">Åehir:</label>
                    <select id="city" name="city" required>
                        <option value="Adana" {% if user.city == 'Adana' %}selected{% endif %}>Adana</option>
                        <option value="AdÄ±yaman" {% if user.city == 'AdÄ±yaman' %}selected{% endif %}>AdÄ±yaman</option>
                        <option value="Afyonkarahisar" {% if user.city == 'Afyonkarahisar' %}selected{% endif %}>Afyonkarahisar</option>
                        <option value="AÄŸrÄ±" {% if user.city == 'AÄŸrÄ±' %}selected{% endif %}>AÄŸrÄ±</option>
                        <option value="Amasya" {% if user.city == 'Amasya' %}selected{% endif %}>Amasya</option>
                        <option value="Ankara" {% if user.city == 'Ankara' or not user.city %}selected{% endif %}>Ankara</option>
                        <option value="Antalya" {% if user.city == 'Antalya' %}selected{% endif %}>Antalya</option>
                        <option value="Artvin" {% if user.city == 'Artvin' %}selected{% endif %}>Artvin</option>
                        <option value="AydÄ±n" {% if user.city == 'AydÄ±n' %}selected{% endif %}>AydÄ±n</option>
                        <option value="BalÄ±kesir" {% if user.city == 'BalÄ±kesir' %}selected{% endif %}>BalÄ±kesir</option>
                        <option value="Bilecik" {% if user.city == 'Bilecik' %}selected{% endif %}>Bilecik</option>
                        <option value="BingÃ¶l" {% if user.city == 'BingÃ¶l' %}selected{% endif %}>BingÃ¶l</option>
                        <option value="Bitlis" {% if user.city == 'Bitlis' %}selected{% endif %}>Bitlis</option>
                        <option value="Bolu" {% if user.city == 'Bolu' %}selected{% endif %}>Bolu</option>
                        <option value="Burdur" {% if user.city == 'Burdur' %}selected{% endif %}>Burdur</option>
                        <option value="Bursa" {% if user.city == 'Bursa' %}selected{% endif %}>Bursa</option>
                        <option value="Ã‡anakkale" {% if user.city == 'Ã‡anakkale' %}selected{% endif %}>Ã‡anakkale</option>
                        <option value="Ã‡ankÄ±rÄ±" {% if user.city == 'Ã‡ankÄ±rÄ±' %}selected{% endif %}>Ã‡ankÄ±rÄ±</option>
                        <option value="Ã‡orum" {% if user.city == 'Ã‡orum' %}selected{% endif %}>Ã‡orum</option>
                        <option value="Denizli" {% if user.city == 'Denizli' %}selected{% endif %}>Denizli</option>
                        <option value="DiyarbakÄ±r" {% if user.city == 'DiyarbakÄ±r' %}selected{% endif %}>DiyarbakÄ±r</option>
                        <option value="Edirne" {% if user.city == 'Edirne' %}selected{% endif %}>Edirne</option>
                        <option value="ElazÄ±ÄŸ" {% if user.city == 'ElazÄ±ÄŸ' %}selected{% endif %}>ElazÄ±ÄŸ</option>
                        <option value="Erzincan" {% if user.city == 'Erzincan' %}selected{% endif %}>Erzincan</option>
                        <option value="Erzurum" {% if user.city == 'Erzurum' %}selected{% endif %}>Erzurum</option>
                        <option value="EskiÅŸehir" {% if user.city == 'EskiÅŸehir' %}selected{% endif %}>EskiÅŸehir</option>
                        <option value="Gaziantep" {% if user.city == 'Gaziantep' %}selected{% endif %}>Gaziantep</option>
                        <option value="Giresun" {% if user.city == 'Giresun' %}selected{% endif %}>Giresun</option>
                        <option value="GÃ¼mÃ¼ÅŸhane" {% if user.city == 'GÃ¼mÃ¼ÅŸhane' %}selected{% endif %}>GÃ¼mÃ¼ÅŸhane</option>
                        <option value="Hakkari" {% if user.city == 'Hakkari' %}selected{% endif %}>Hakkari</option>
                        <option value="Hatay" {% if user.city == 'Hatay' %}selected{% endif %}>Hatay</option>
                        <option value="Isparta" {% if user.city == 'Isparta' %}selected{% endif %}>Isparta</option>
                        <option value="Mersin" {% if user.city == 'Mersin' %}selected{% endif %}>Mersin</option>
                        <option value="Ä°stanbul" {% if user.city == 'Ä°stanbul' %}selected{% endif %}>Ä°stanbul</option>
                        <option value="Ä°zmir" {% if user.city == 'Ä°zmir' %}selected{% endif %}>Ä°zmir</option>
                        <option value="Kars" {% if user.city == 'Kars' %}selected{% endif %}>Kars</option>
                        <option value="Kastamonu" {% if user.city == 'Kastamonu' %}selected{% endif %}>Kastamonu</option>
                        <option value="Kayseri" {% if user.city == 'Kayseri' %}selected{% endif %}>Kayseri</option>
                        <option value="KÄ±rklareli" {% if user.city == 'KÄ±rklareli' %}selected{% endif %}>KÄ±rklareli</option>
                        <option value="KÄ±rÅŸehir" {% if user.city == 'KÄ±rÅŸehir' %}selected{% endif %}>KÄ±rÅŸehir</option>
                        <option value="Kocaeli" {% if user.city == 'Kocaeli' %}selected{% endif %}>Kocaeli</option>
                        <option value="Konya" {% if user.city == 'Konya' %}selected{% endif %}>Konya</option>
                        <option value="KÃ¼tahya" {% if user.city == 'KÃ¼tahya' %}selected{% endif %}>KÃ¼tahya</option>
                        <option value="Malatya" {% if user.city == 'Malatya' %}selected{% endif %}>Malatya</option>
                        <option value="Manisa" {% if user.city == 'Manisa' %}selected{% endif %}>Manisa</option>
                        <option value="KahramanmaraÅŸ" {% if user.city == 'KahramanmaraÅŸ' %}selected{% endif %}>KahramanmaraÅŸ</option>
                        <option value="Mardin" {% if user.city == 'Mardin' %}selected{% endif %}>Mardin</option>
                        <option value="MuÄŸla" {% if user.city == 'MuÄŸla' %}selected{% endif %}>MuÄŸla</option>
                        <option value="MuÅŸ" {% if user.city == 'MuÅŸ' %}selected{% endif %}>MuÅŸ</option>
                        <option value="NevÅŸehir" {% if user.city == 'NevÅŸehir' %}selected{% endif %}>NevÅŸehir</option>
                        <option value="NiÄŸde" {% if user.city == 'NiÄŸde' %}selected{% endif %}>NiÄŸde</option>
                        <option value="Ordu" {% if user.city == 'Ordu' %}selected{% endif %}>Ordu</option>
                        <option value="Rize" {% if user.city == 'Rize' %}selected{% endif %}>Rize</option>
                        <option value="Sakarya" {% if user.city == 'Sakarya' %}selected{% endif %}>Sakarya</option>
                        <option value="Samsun" {% if user.city == 'Samsun' %}selected{% endif %}>Samsun</option>
                        <option value="Siirt" {% if user.city == 'Siirt' %}selected{% endif %}>Siirt</option>
                        <option value="Sinop" {% if user.city == 'Sinop' %}selected{% endif %}>Sinop</option>
                        <option value="Sivas" {% if user.city == 'Sivas' %}selected{% endif %}>Sivas</option>
                        <option value="TekirdaÄŸ" {% if user.city == 'TekirdaÄŸ' %}selected{% endif %}>TekirdaÄŸ</option>
                        <option value="Tokat" {% if user.city == 'Tokat' %}selected{% endif %}>Tokat</option>
                        <option value="Trabzon" {% if user.city == 'Trabzon' %}selected{% endif %}>Trabzon</option>
                        <option value="Tunceli" {% if user.city == 'Tunceli' %}selected{% endif %}>Tunceli</option>
                        <option value="ÅanlÄ±urfa" {% if user.city == 'ÅanlÄ±urfa' %}selected{% endif %}>ÅanlÄ±urfa</option>
                        <option value="UÅŸak" {% if user.city == 'UÅŸak' %}selected{% endif %}>UÅŸak</option>
                        <option value="Van" {% if user.city == 'Van' %}selected{% endif %}>Van</option>
                        <option value="Yozgat" {% if user.city == 'Yozgat' %}selected{% endif %}>Yozgat</option>
                        <option value="Zonguldak" {% if user.city == 'Zonguldak' %}selected{% endif %}>Zonguldak</option>
                        <option value="Aksaray" {% if user.city == 'Aksaray' %}selected{% endif %}>Aksaray</option>
                        <option value="Bayburt" {% if user.city == 'Bayburt' %}selected{% endif %}>Bayburt</option>
                        <option value="Karaman" {% if user.city == 'Karaman' %}selected{% endif %}>Karaman</option>
                        <option value="KÄ±rÄ±kkale" {% if user.city == 'KÄ±rÄ±kkale' %}selected{% endif %}>KÄ±rÄ±kkale</option>
                        <option value="Batman" {% if user.city == 'Batman' %}selected{% endif %}>Batman</option>
                        <option value="ÅÄ±rnak" {% if user.city == 'ÅÄ±rnak' %}selected{% endif %}>ÅÄ±rnak</option>
                        <option value="BartÄ±n" {% if user.city == 'BartÄ±n' %}selected{% endif %}>BartÄ±n</option>
                        <option value="Ardahan" {% if user.city == 'Ardahan' %}selected{% endif %}>Ardahan</option>
                        <option value="IÄŸdÄ±r" {% if user.city == 'IÄŸdÄ±r' %}selected{% endif %}>IÄŸdÄ±r</option>
                        <option value="Yalova" {% if user.city == 'Yalova' %}selected{% endif %}>Yalova</option>
                        <option value="KarabÃ¼k" {% if user.city == 'KarabÃ¼k' %}selected{% endif %}>KarabÃ¼k</option>
                        <option value="Kilis" {% if user.city == 'Kilis' %}selected{% endif %}>Kilis</option>
                        <option value="Osmaniye" {% if user.city == 'Osmaniye' %}selected{% endif %}>Osmaniye</option>
                        <option value="DÃ¼zce" {% if user.city == 'DÃ¼zce' %}selected{% endif %}>DÃ¼zce</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Profili GÃ¼ncelle</button>
                    <a href="{{ url_for('notes') }}" class="btn btn-secondary">Ä°ptal</a>
                </div>
            </form>
        </div>
    </div>
</body>
</html> 